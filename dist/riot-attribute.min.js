!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=riot.util,n="=?(?:\"([^\"]*)\"|'([^']*)'|({[^}]*}))?",o={},a=-1,i=function(){var t;(t=Array.prototype.forEach).call.apply(t,arguments)},c=function(t,e,r){e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var n=e.split("."),o=0,a=n.length;o<a;++o){var i=n[o];if(!(i in t))return;o==a-1&&Object.defineProperty(t,i,{value:r}),t=t[i]}return t},p=function(){var t=r.tags.selectTags().split(",");return t[0]?t.filter(function(t){if(!/\[(.*)\]/.test(t))return!0}):null},u=function(t){return t.map(function(t){if(!/\[(.*)\]/.test(t))return r.tags.getTag(document.createElement(t))})},l=function(t,e,n,o){var a=this,p=Object.create(t.opts);o=o||a.parent,i(Object.keys(o),function(t){a.hasOwnProperty(t)||Object.getPrototypeOf(a).hasOwnProperty(t)||Object.defineProperty(Object.getPrototypeOf(a),t,{get:function(){return o[t]},set:function(e){o[t]=e}})}),n=n||e.getAttribute(t.name),a._attr=p;var u={name:t.name,get value(){return r.tmpl(n,a)},set value(t){var e=new RegExp("{([\\w\\. \\[\\]']*)}").exec(n);e&&e[1]&&c(a,e[1],t)}};p.init.apply(a,[this.root,u])},s=function(t,e){var r=document.createElement("div");r.innerHTML=e.tmpl;var o=r.querySelectorAll("["+t.name+"]");return i(o,function(e){a++;var r="__"+t.name+"__id__"+a,o=e.getAttribute(t.name);t.opts.compile&&t.opts.compile.apply(t.opts,[e]),e.removeAttribute(t.name);var i="";i=t.opts.tmpl?t.opts.tmpl:e.innerHTML.replace(new RegExp("each"+n,"g"),"").replace(new RegExp("if"+n,"g"),""),e.setAttribute("data-is",r),g(r,i,"","",function(){l.apply(this,[t,this.root,o,this.parent])})}),e.tmpl=r.innerHTML,e},f=function(t){return Object.keys(o).forEach(function(e){t=s(o[e],t)}),t},m=riot.tag2;riot.tag2=function(t,e,r,n,o){o=o||function(){};var a=f({name:t,tmpl:e,css:r,attrs:n,fn:o});return m.apply(riot,Object.keys(a).map(function(t){return a[t]})),t};var g=riot.tag;riot.tag=function(t,e,r,n,o){o=o||function(){};var a=f({name:t,tmpl:e,css:r,attrs:n,fn:o});return g.apply(riot,Object.keys(a).map(function(t){return a[t]})),t};var d=function t(e,r){return e?(e.unshift(null),e.reduce(function(t,e){var r="["+e.trim().toLowerCase()+"]";return t?t+","+r:r})):t(Object.keys(o))},y=function(t,e,n){a++;var o="__"+t.name+"__id__"+a;return g(o,t.opts.tmpl||r.dom.getOuterHTML(e),"","",function(){l.apply(this,[t,e,e.getAttribute(t.name),n])}),o};riot.mountAttr=function(t){t="*"===t?d():d(t.split(/, */));var e=document.querySelectorAll(t);i(e,function(t){Object.keys(o).forEach(function(e){if(t.hasAttribute(e)){var n=o[e];if(n.opts.compile&&n.opts.compile.apply(n.opts,[t,t._tag]),t._tag)if(n.opts.tmpl){var a=document.createElement("span"),i=y(n,t,{});if(a.appendChild(t.cloneNode(!0)),n.opts.target)try{document.querySelector(n.opts.target).appendChild(a)}catch(t){}else t.appendChild(a);r.tags.mountTo(a,i,{},{})}else{if(n.opts.target)try{document.querySelector(n.opts.target).appendChild(t)}catch(t){}l.apply(t._tag,[o[e],t,null,t._tag]),t._tag.update()}else{var c=y(n,t,{});if(n.opts.target)try{document.querySelector(n.opts.target).appendChild(t)}catch(t){}r.tags.mountTo(t,c,{},{})}}})})},riot.attr=function(t,e){o[t]={name:t,opts:e};var r=p();if(r){var n=u(r);n.forEach(function(e){s(o[t],e)})}},e.default=riot.attr}]);